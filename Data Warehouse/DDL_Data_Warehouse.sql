CREATE TABLE ADMIN.DIM_BANCO_IMAGENS 
    ( 
     ID_BANCO_IMAGENS          NUMBER (*,0)  NOT NULL , 
     ID_PROJETOS               NUMBER (*,0)  NOT NULL , 
     DESCRICAO_IMG_ORIGINAL    VARCHAR2 (100)  NOT NULL , 
     ALTURA_IMG_ORIGINAL       NUMBER (*,0)  NOT NULL , 
     LARGURA_IMG_ORIGINAL      NUMBER (*,0)  NOT NULL , 
     NUM_CANAIS_IMG_ORIGINAL   NUMBER (*,0)  NOT NULL , 
     TOTAL_PIXELS_IMG_ORIGINAL NUMBER (*,0)  NOT NULL , 
     TIPO_IMG_ORIGINAL         VARCHAR2 (45)  NOT NULL , 
     SK_DIM_BANCO_IMAGENS      NUMBER GENERATED BY DEFAULT AS IDENTITY 
        ( START WITH 1 MAXVALUE 9999999999 CACHE 20 ) 
    ) 
    COLUMN STORE COMPRESS FOR QUERY HIGH 
    NO INMEMORY 
;


CREATE UNIQUE INDEX ADMIN.DIM_BANCO_IMAGENS_PK ON ADMIN.DIM_BANCO_IMAGENS 
    ( 
     SK_DIM_BANCO_IMAGENS ASC 
    ) 
;

CREATE UNIQUE INDEX ADMIN.DIM_BANCO_IMAGENS_UK1 ON ADMIN.DIM_BANCO_IMAGENS 
    ( 
     ID_BANCO_IMAGENS ASC 
    ) 
;

ALTER TABLE ADMIN.DIM_BANCO_IMAGENS 
    ADD CONSTRAINT DIM_BANCO_IMAGENS_PK PRIMARY KEY ( SK_DIM_BANCO_IMAGENS ) 
    USING INDEX ADMIN.DIM_BANCO_IMAGENS_PK ;

ALTER TABLE ADMIN.DIM_BANCO_IMAGENS 
    ADD CONSTRAINT DIM_BANCO_IMAGENS_UK1 UNIQUE ( ID_BANCO_IMAGENS ) 
    USING INDEX ADMIN.DIM_BANCO_IMAGENS_UK1 ;

CREATE TABLE ADMIN.DIM_CLASSIFICACOES 
    ( 
     ID_CLASSIFICACAO      NUMBER (*,0)  NOT NULL , 
     ID_PROJETOS           NUMBER (*,0)  NOT NULL , 
     ID_BANCO_IMAGENS      NUMBER (*,0)  NOT NULL , 
     TIPO_CLASSIFICACAO    VARCHAR2 (30)  NOT NULL , 
     PORCENTAGEM_TREINO    NUMBER (*,0)  NOT NULL , 
     PORCENTAGEM_TESTE     NUMBER (*,0)  NOT NULL , 
     RESULTADO             NUMBER (*,0)  NOT NULL , 
     SK_DIM_CLASSIFICACOES NUMBER GENERATED BY DEFAULT AS IDENTITY 
        ( START WITH 1 MAXVALUE 9999999999 CACHE 20 ) 
    ) 
    COLUMN STORE COMPRESS FOR QUERY HIGH 
    NO INMEMORY 
;


CREATE UNIQUE INDEX ADMIN.DIM_CLASSIFICACOES_PK ON ADMIN.DIM_CLASSIFICACOES 
    ( 
     SK_DIM_CLASSIFICACOES ASC 
    ) 
;

CREATE UNIQUE INDEX ADMIN.DIM_CLASSIFICACOES_UK1 ON ADMIN.DIM_CLASSIFICACOES 
    ( 
     ID_CLASSIFICACAO ASC 
    ) 
;

ALTER TABLE ADMIN.DIM_CLASSIFICACOES 
    ADD CONSTRAINT DIM_CLASSIFICACOES_PK PRIMARY KEY ( SK_DIM_CLASSIFICACOES ) 
    USING INDEX ADMIN.DIM_CLASSIFICACOES_PK ;

ALTER TABLE ADMIN.DIM_CLASSIFICACOES 
    ADD CONSTRAINT DIM_CLASSIFICACOES_UK1 UNIQUE ( ID_CLASSIFICACAO ) 
    USING INDEX ADMIN.DIM_CLASSIFICACOES_UK1 ;

CREATE TABLE ADMIN.DIM_DADOS_CLIMATICOS 
    ( 
     ID_DADOS_CLIMATICOS        NUMBER (*,0)  NOT NULL , 
     ID_PROJETOS                NUMBER (*,0)  NOT NULL , 
     REGIAO_ESTACAO_CLIMATICA   VARCHAR2 (150)  NOT NULL , 
     LOCAL_ESTACAO_CLIMATICA    VARCHAR2 (150)  NOT NULL , 
     PERIODO_MEDICAO            VARCHAR2 (40)  NOT NULL , 
     DATA_MEDICAO               DATE  NOT NULL , 
     PRECIPITACAO               FLOAT (126)  NOT NULL , 
     TEMPERATURA_MAX            FLOAT (126)  NOT NULL , 
     TEMPERATURA_MIN            FLOAT (126)  NOT NULL , 
     UMIDADE_RELATIVA           FLOAT (126)  NOT NULL , 
     PONTO_ORVALHO              FLOAT (126)  NOT NULL , 
     TEMPERATURA_MED_COMPENSADA FLOAT (126)  NOT NULL , 
     SK_DIM_DADOS_CLIMATICOS    NUMBER GENERATED BY DEFAULT AS IDENTITY 
        ( START WITH 1 MAXVALUE 9999999999 CACHE 20 ) 
    ) 
    COLUMN STORE COMPRESS FOR QUERY HIGH 
    NO INMEMORY 
;


CREATE UNIQUE INDEX ADMIN.DIM_DADOS_CLIMATICOS_PK ON ADMIN.DIM_DADOS_CLIMATICOS 
    ( 
     SK_DIM_DADOS_CLIMATICOS ASC 
    ) 
;

CREATE UNIQUE INDEX ADMIN.DIM_DADOS_CLIMATICOS_UK1 ON ADMIN.DIM_DADOS_CLIMATICOS 
    ( 
     ID_DADOS_CLIMATICOS ASC 
    ) 
;

ALTER TABLE ADMIN.DIM_DADOS_CLIMATICOS 
    ADD CONSTRAINT DIM_DADOS_CLIMATICOS_PK PRIMARY KEY ( SK_DIM_DADOS_CLIMATICOS ) 
    USING INDEX ADMIN.DIM_DADOS_CLIMATICOS_PK ;

ALTER TABLE ADMIN.DIM_DADOS_CLIMATICOS 
    ADD CONSTRAINT DIM_DADOS_CLIMATICOS_UK1 UNIQUE ( ID_DADOS_CLIMATICOS ) 
    USING INDEX ADMIN.DIM_DADOS_CLIMATICOS_UK1 ;

CREATE TABLE ADMIN.DIM_DADOS_PLANTA_SOJA 
    ( 
     ID_DADOS_PLANTA_SOJA     NUMBER (*,0)  NOT NULL , 
     ID_PROJETOS              NUMBER (*,0)  NOT NULL , 
     VARIEDADE_CULTURA        VARCHAR2 (100)  NOT NULL , 
     DISTANCIA_LINHA_CULTURA  FLOAT (126)  NOT NULL , 
     ALTURA_PLANTA_CULTURA    FLOAT (126)  NOT NULL , 
     DISTANCIA_PLANTA_CULTURA FLOAT (126)  NOT NULL , 
     PLANTAS_METRO_LINEAR     NUMBER , 
     STATUS                   VARCHAR2 (50) , 
     SK_DIM_DADOS_PLANTA_SOJA NUMBER GENERATED BY DEFAULT AS IDENTITY 
        ( START WITH 1 MAXVALUE 9999999999 CACHE 20 ) 
    ) 
    COLUMN STORE COMPRESS FOR QUERY HIGH 
    NO INMEMORY 
;


CREATE UNIQUE INDEX ADMIN.DIM_DADOS_PLANTA_SOJA_PK ON ADMIN.DIM_DADOS_PLANTA_SOJA 
    ( 
     SK_DIM_DADOS_PLANTA_SOJA ASC 
    ) 
;

CREATE UNIQUE INDEX ADMIN.DIM_DADOS_PLANTA_SOJA_UK1 ON ADMIN.DIM_DADOS_PLANTA_SOJA 
    ( 
     ID_DADOS_PLANTA_SOJA ASC 
    ) 
;

ALTER TABLE ADMIN.DIM_DADOS_PLANTA_SOJA 
    ADD CONSTRAINT DIM_DADOS_PLANTA_SOJA_PK PRIMARY KEY ( SK_DIM_DADOS_PLANTA_SOJA ) 
    USING INDEX ADMIN.DIM_DADOS_PLANTA_SOJA_PK ;

ALTER TABLE ADMIN.DIM_DADOS_PLANTA_SOJA 
    ADD CONSTRAINT DIM_DADOS_PLANTA_SOJA_UK1 UNIQUE ( ID_DADOS_PLANTA_SOJA ) 
    USING INDEX ADMIN.DIM_DADOS_PLANTA_SOJA_UK1 ;

CREATE TABLE ADMIN.DIM_IMAGEM_CLIMA_FAVORAB 
    ( 
     ID_IMAGEM_CLIMA_FAVORAB NUMBER (*,0)  NOT NULL , 
     ID_BANCO_IMAGENS        NUMBER (*,0)  NOT NULL , 
     ID_TAB_VERD_FAVORAB     NUMBER (*,0)  NOT NULL , 
     ID_DADOS_CLIMATICOS     NUMBER (*,0)  NOT NULL , 
     DESC_FAVORAB            VARCHAR2 (40)  NOT NULL , 
     ID_DADOS_PLANTA_SOJA    NUMBER (*,0)  NOT NULL , 
     SK_IMAGEM_CLIMA_FAVORAB NUMBER GENERATED BY DEFAULT AS IDENTITY 
        ( START WITH 1 MAXVALUE 9999999999 NOCACHE ) 
    ) 
    COLUMN STORE COMPRESS FOR QUERY HIGH 
    NO INMEMORY 
;


CREATE UNIQUE INDEX ADMIN.DIM_IMAGEM_CLIMA_FAVORAB_PK ON ADMIN.DIM_IMAGEM_CLIMA_FAVORAB 
    ( 
     SK_IMAGEM_CLIMA_FAVORAB ASC 
    ) 
;

CREATE UNIQUE INDEX ADMIN.DIM_IMAGEM_CLIMA_FAVORAB_UK1 ON ADMIN.DIM_IMAGEM_CLIMA_FAVORAB 
    ( 
     ID_IMAGEM_CLIMA_FAVORAB ASC 
    ) 
;

ALTER TABLE ADMIN.DIM_IMAGEM_CLIMA_FAVORAB 
    ADD CONSTRAINT DIM_IMAGEM_CLIMA_FAVORAB_PK PRIMARY KEY ( SK_IMAGEM_CLIMA_FAVORAB ) 
    USING INDEX ADMIN.DIM_IMAGEM_CLIMA_FAVORAB_PK ;

ALTER TABLE ADMIN.DIM_IMAGEM_CLIMA_FAVORAB 
    ADD CONSTRAINT DIM_IMAGEM_CLIMA_FAVORAB_UK1 UNIQUE ( ID_IMAGEM_CLIMA_FAVORAB ) 
    USING INDEX ADMIN.DIM_IMAGEM_CLIMA_FAVORAB_UK1 ;

CREATE TABLE ADMIN.DIM_TEMPO 
    ( 
     DATA         DATE  NOT NULL , 
     DIA          NUMBER (*,0)  NOT NULL , 
     MES          NUMBER (*,0)  NOT NULL , 
     ANO          NUMBER (*,0)  NOT NULL , 
     BIMESTRE     NUMBER  NOT NULL , 
     TRIMESTRE    NUMBER  NOT NULL , 
     SEMESTRE     NUMBER  NOT NULL , 
     SK_DIM_TEMPO NUMBER GENERATED BY DEFAULT AS IDENTITY 
        ( START WITH 1 MAXVALUE 9999999999 CACHE 20 ) 
    ) 
    COLUMN STORE COMPRESS FOR QUERY HIGH 
    NO INMEMORY 
;


CREATE UNIQUE INDEX ADMIN.DIM_TEMPO_PK ON ADMIN.DIM_TEMPO 
    ( 
     SK_DIM_TEMPO ASC 
    ) 
;

ALTER TABLE ADMIN.DIM_TEMPO 
    ADD CONSTRAINT DIM_TEMPO_PK PRIMARY KEY ( SK_DIM_TEMPO ) 
    USING INDEX ADMIN.DIM_TEMPO_PK ;

CREATE TABLE ADMIN.FATO_FAVORABILIDADES_FAS 
    ( 
     SK_DIM_TEMPO                             NUMBER (*,0)  NOT NULL , 
     ID_CLASSIFICACAO                         NUMBER (*,0)  NOT NULL , 
     ID_BANCO_IMAGENS                         NUMBER (*,0)  NOT NULL , 
     ID_FAVORABILIDADE                        NUMBER (*,0)  NOT NULL , 
     ID_DADOS_PLANTA_SOJA                     NUMBER (*,0)  NOT NULL , 
     ID_IMAGEM_CLIMA_FAVORAB                  NUMBER (*,0)  NOT NULL , 
     RESULTADO_CLASSIFICACAO_IMG              NUMBER (*,0)  NOT NULL , 
     RESULTADO_FAVORABILIDADE                 VARCHAR2 (500)  NOT NULL , 
     FAVORAB_V1_PERIODO_MOLHAMENTO_FOLIAR     NUMBER (*,0)  NOT NULL , 
     FAVORAB_V2_PERIODO_MIN_MOLHAMENTO_FOLIAR NUMBER (*,0)  NOT NULL , 
     FAVORAB_V3_FAIXA_TEMPERATURA             NUMBER (*,0)  NOT NULL , 
     FAVORAB_V4_TEMPERATURA_MAXIMA            NUMBER (*,0)  NOT NULL , 
     FAVORAB_V5_TEMPERATURA_MINIMA            NUMBER (*,0)  NOT NULL , 
     FAVORAB_V6_PONTO_ORVALHO                 NUMBER (*,0)  NOT NULL , 
     FAVORAB_V7_DADOS_CULTIVAR_CLASSIF_IMAGEM NUMBER (*,0)  NOT NULL , 
     SK_FATO                                  NUMBER GENERATED BY DEFAULT AS IDENTITY 
        ( START WITH 1 MAXVALUE 9999999999 CACHE 20 ) , 
     ID_DADOS_CLIMATICOS                      NUMBER  NOT NULL , 
     ABORDAGEM_FUSAO_DADOS                    VARCHAR2 (100)  NOT NULL , 
     JANELA_TEMPO_INICIAL                     DATE  NOT NULL , 
     JANELA_TEMPO_FINAL                       DATE  NOT NULL 
    ) 
    COLUMN STORE COMPRESS FOR QUERY HIGH 
    NO INMEMORY 
;


CREATE UNIQUE INDEX ADMIN.FATO_FAVORABILIDADES_FAS_PK ON ADMIN.FATO_FAVORABILIDADES_FAS 
    ( 
     SK_FATO ASC 
    ) 
;

ALTER TABLE ADMIN.FATO_FAVORABILIDADES_FAS 
    ADD CONSTRAINT FATO_FAVORABILIDADES_FAS_PK PRIMARY KEY ( SK_FATO ) 
    USING INDEX ADMIN.FATO_FAVORABILIDADES_FAS_PK ;

ALTER TABLE ADMIN.FATO_FAVORABILIDADES_FAS 
    ADD CONSTRAINT FATO_FAVORABILIDADES_FAS_DIM_BAN_IMG_FK FOREIGN KEY 
    ( 
     ID_BANCO_IMAGENS
    ) 
    REFERENCES ADMIN.DIM_BANCO_IMAGENS 
    ( 
         ID_BANCO_IMAGENS
    ) 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.FATO_FAVORABILIDADES_FAS 
    ADD CONSTRAINT FATO_FAVORABILIDADES_FAS_DIM_CLASSIF_FK FOREIGN KEY 
    ( 
     ID_CLASSIFICACAO
    ) 
    REFERENCES ADMIN.DIM_CLASSIFICACOES 
    ( 
         ID_CLASSIFICACAO
    ) 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.FATO_FAVORABILIDADES_FAS 
    ADD CONSTRAINT FATO_FAVORABILIDADES_FAS_DIM_DADOS_CLI_FK FOREIGN KEY 
    ( 
     ID_DADOS_CLIMATICOS
    ) 
    REFERENCES ADMIN.DIM_DADOS_CLIMATICOS 
    ( 
         ID_DADOS_CLIMATICOS
    ) 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.FATO_FAVORABILIDADES_FAS 
    ADD CONSTRAINT FATO_FAVORABILIDADES_FAS_DIM_DAD_PLAN_SOJA_FK FOREIGN KEY 
    ( 
     ID_DADOS_PLANTA_SOJA
    ) 
    REFERENCES ADMIN.DIM_DADOS_PLANTA_SOJA 
    ( 
         ID_DADOS_PLANTA_SOJA
    ) 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.FATO_FAVORABILIDADES_FAS 
    ADD CONSTRAINT FATO_FAVORABILIDADES_FAS_DIM_IMG_CLI_FAV_FK FOREIGN KEY 
    ( 
     ID_IMAGEM_CLIMA_FAVORAB
    ) 
    REFERENCES ADMIN.DIM_IMAGEM_CLIMA_FAVORAB 
    ( 
         ID_IMAGEM_CLIMA_FAVORAB
    ) 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.FATO_FAVORABILIDADES_FAS 
    ADD CONSTRAINT FATO_FAVORABILIDADES_FAS_DIM_TEMPO_FK FOREIGN KEY 
    ( 
     SK_DIM_TEMPO
    ) 
    REFERENCES ADMIN.DIM_TEMPO 
    ( 
         SK_DIM_TEMPO
    ) 
    NOT DEFERRABLE 
;



